// Generated by CoffeeScript 1.9.3
(function() {
  define(["angular"], function(angular) {
    var CursorPositionUtil;
    CursorPositionUtil = {
      getPosition: function(ele) {
        var pos, sel, selLength;
        pos = 0;
        ele = ele[0];
        if (ele.selectionStart !== void 0 && ele.selectionStart !== 0) {
          pos = ele.selectionStart;
        } else if (document.selection) {
          ele.focus();
          sel = document.selection.createRange();
          selLength = sel.text.length;
          sel.moveStart("character", -ele.value.length);
          pos = sel.text.length - selLength;
        }
        return pos;
      },
      setPosition: function(ele, pos) {
        var range;
        ele = ele[0];
        if (ele.setSelectionRange) {
          ele.focus();
          ele.setSelectionRange(pos, pos);
        } else if (ele.createTextRange) {
          range = ele.createTextRange();
          range.collapse(true);
          range.moveEnd("character", pos);
          range.moveStart("character", pos);
          range.select();
        }
      },

      /*移除指定位置上的字符 */
      removePositionChar: function(ele, pos) {
        var value;
        value = ele.val();
        value = value.substring(0, pos - 1) + value.substring(pos, value.length);
        ele.val(value);
      }
    };
    return CursorPositionUtil;
  });

}).call(this);
